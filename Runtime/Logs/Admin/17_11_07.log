[ 2017-11-07T09:32:34+08:00 ] ::1 /admin.php/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000679s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001635s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001899s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000932s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001030s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.021799s ]
INFO: [ view_parse ] --END-- [ RunTime:0.021935s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000816s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000973s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001172s ]
INFO: [ app_end ] --END-- [ RunTime:0.001298s ]

[ 2017-11-07T09:32:38+08:00 ] ::1 /admin.php/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000412s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000449s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000528s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0107s ]
SQL: SELECT `id`,`username`,`password`,`salt`,`role`,`lastLogin`,`loginNum`,`lastIp` FROM `blog_users` WHERE `username` = 'wangyu' AND `status` = 1 AND `role` = 1 LIMIT 1   [ RunTime:0.0078s ]
SQL: UPDATE `blog_users` SET `lastLogin`='1510018358',`lastIp`='::1',`loginNum`='44' WHERE `id` = 1 [ RunTime:0.0027s ]

[ 2017-11-07T09:32:38+08:00 ] ::1 /admin.php/home/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000480s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001512s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001665s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0032s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0010s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0060s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/index' LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000255s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000454s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017195s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017312s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000256s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000355s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000836s ]
INFO: [ app_end ] --END-- [ RunTime:0.001009s ]

[ 2017-11-07T09:32:39+08:00 ] ::1 /admin.php/home/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000030s ]
INFO: [ app_init ] --END-- [ RunTime:0.000554s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000659s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000788s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0017s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0009s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/welcome' LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
SQL: select version() as ver [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000095s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000185s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012719s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012807s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000166s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000234s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000463s ]
INFO: [ app_end ] --END-- [ RunTime:0.000535s ]

[ 2017-11-07T09:32:42+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000115s ]
INFO: [ app_init ] --END-- [ RunTime:0.001017s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000458s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000544s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0016s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0004s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000208s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011680s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011761s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000167s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000237s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000545s ]
INFO: [ app_end ] --END-- [ RunTime:0.000638s ]

[ 2017-11-07T09:32:47+08:00 ] ::1 /admin.php/posts/edit/id/10.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000547s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000648s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000778s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0023s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0021s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 10 LIMIT 1   [ RunTime:0.0005s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0014s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0008s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000147s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000236s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010218s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010315s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000162s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000231s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000619s ]
INFO: [ app_end ] --END-- [ RunTime:0.000708s ]

[ 2017-11-07T09:33:03+08:00 ] ::1 /admin.php/posts/edit/id/10.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000675s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000842s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000954s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0014s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: UPDATE `blog_posts` SET `title`='linux命令行技巧',`cate`='10',`tags`='|17|18|',`createtime`='1332468072',`content`='
##编辑命令
    * Ctrl + a ：移到命令行首
    * Ctrl + e ：移到命令行尾
    * Ctrl + f ：按字符前移（右向）
    * Ctrl + b ：按字符后移（左向）
    * Alt + f ：按单词前移（右向）
    * Alt + b ：按单词后移（左向）
    * Ctrl + xx：在命令行首和光标之间移动
    * Ctrl + u ：从光标处删除至命令行首
    * Ctrl + k ：从光标处删除至命令行尾
    * Ctrl + w ：从光标处删除至字首
    * Alt + d ：从光标处删除至字尾
    * Ctrl + d ：删除光标处的字符
    * Ctrl + h ：删除光标前的字符
    * Ctrl + y ：粘贴至光标后
    * Alt + c ：从光标处更改为首字母大写的单词
    * Alt + u ：从光标处更改为全部大写的单词
    * Alt + l ：从光标处更改为全部小写的单词
    * Ctrl + t ：交换光标处和之前的字符
    * Alt + t ：交换光标处和之前的单词
    * Alt + Backspace：与 Ctrl + w 相同类似

##重新执行命令
    * Ctrl + r：逆向搜索命令历史
    * Ctrl + g：从历史搜索模式退出
    * Ctrl + p：历史中的上一条命令
    * Ctrl + n：历史中的下一条命令
    * Alt + .：使用上一条命令的最后一个参数

##控制命令
    * Ctrl + l：清屏
    * Ctrl + o：执行当前命令，并选择上一条命令
    * Ctrl + s：阻止屏幕输出
    * Ctrl + q：允许屏幕输出
    * Ctrl + c：终止命令
    * Ctrl + z：挂起命令

##Bang (!) 命令
    * !!：执行上一条命令
    * !blah：执行最近的以 blah 开头的命令，如 !ls
    * !blah:p：仅打印输出，而不执行
    * !$：上一条命令的最后一个参数，与 Alt + . 相同
    * !$:p：打印输出 !$ 的内容
    * !*：上一条命令的所有参数
    * !*:p：打印输出 !* 的内容
    * ^blah：删除上一条命令中的 blah
    * ^blah^foo：将上一条命令中的 blah 替换为 foo
    * ^blah^foo^：将上一条命令中所有的 blah 都替换为 foo

##注意：

    1. 以上介绍的大多数 Bash 快捷键仅当在 emacs 编辑模式时有效，若你将 Bash 配置为 vi 编辑模式，那将遵循 vi 的按键绑定。Bash 默认为 emacs 编辑模式。如果你的 Bash 不在 emacs 编辑模式，可通过 set -o emacs 设置。
    2. ^S、^Q、^C、^Z 是由终端设备处理的，可用 stty 命令设置。',`status`='1',`url`='linux-ming-ling-hang-ji-qiao',`updatetime`='1510018383' WHERE `id` = 10 [ RunTime:0.0022s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000086s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000177s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013045s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013127s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000475s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000551s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000808s ]
INFO: [ app_end ] --END-- [ RunTime:0.000885s ]

[ 2017-11-07T09:33:04+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000032s ]
INFO: [ app_init ] --END-- [ RunTime:0.000577s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000664s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000799s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0107s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0090s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0079s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000204s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015641s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015741s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000188s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000317s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000584s ]
INFO: [ app_end ] --END-- [ RunTime:0.000693s ]

[ 2017-11-07T09:34:31+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000034s ]
INFO: [ app_init ] --END-- [ RunTime:0.000414s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000533s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000647s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0012s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0006s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000137s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000219s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013026s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013127s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000162s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000234s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000571s ]
INFO: [ app_end ] --END-- [ RunTime:0.000677s ]

[ 2017-11-07T09:34:33+08:00 ] ::1 /admin.php/posts/edit/id/21.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000032s ]
INFO: [ app_init ] --END-- [ RunTime:0.000540s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000656s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000891s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 21 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000152s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000257s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011183s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011288s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000324s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000970s ]
INFO: [ app_end ] --END-- [ RunTime:0.001119s ]

[ 2017-11-07T09:34:37+08:00 ] ::1 /admin.php/posts/edit/id/21.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000431s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000573s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000707s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0017s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: UPDATE `blog_posts` SET `title`='mysql优化建议',`cate`='30',`tags`='|15|',`createtime`='1506412697',`content`='
###1/ 选用合适的存储引擎

    innoDB与myISAM区别

    1. myISAM文件存储为三个文件 .frm（表信息） .MYD（数据） .MYI（索引）而innoDB单文件存储，估计这就是myISAM读性能更好的原因吧

    2. myISAM锁为表锁而innoDB为行锁

    3. myISAM会存储表数据的行数，而innoDB不会，故 select count(*) form table时myISAM会快于innoDB

    4. innoDB支持事务，而myISAM不支持

    5. myISAM支持fulltext索引(5.7开始 innodb支持fulltext)

###2/ 选用合适的字段属性和适当的宽度以及尽量不使用null

    char与varchar区别，char固定长度，varchar变长 char(10) 存 abc 会占10个字节  而同样的VARCHAR(10)则只占用5(前2个字节存长度)个字节的长

    null和&quot;&quot;区别，null会占用存储空间 &quot;&quot;不会占存储空间

###3/ 使用索引

    索引应建立在那些将用于JOIN,WHERE判断和ORDERBY排序的字段上。尽量不要对数据库中某个含有大量重复的值的字段建立索引

###4/ 优化的查询语句

    1. 最好是在相同类型的字段间进行比较的操作

    2. 在建有索引的字段上尽量不要使用函数进行操作

    3. 在搜索字符型字段时，我们有时会使用LIKE关键字和通配符，这种做法虽然简单，但却也是以牺牲系统性能为代价的

    4. 只取所需字段，尽量不用select *

    5. 定期查看慢查询日志

###5/ 优化mysql配置

    1. key_buffer_size：表示索引缓存的大小。这个值越大，使用索引进行查询的速度就越快

    2. table_cache：表示同时打开的表的个数。这个值越大，能同时打开的表的个数就越多。这个值不是越大越好，因为同时打开的表过多会影响操作系统的性能

    3. query_cache_size：表示查询缓冲区的大小。使用查询缓存区可以提高查询的速度。这个方式只使用与修改操作少且经常执行相同的查询操作的情况

    4. Query_cache_type：表示查询缓存区的开启状态。0表示关闭，1表示开启

    5. Max_connections：表示数据库的最大连接数。这个连接数不是越大越好，因为连接会浪费内存的资源

    6. Sort_buffer_size：排序缓存区的大小，这个值越大，排序就越快

    7. Innodb_buffer_pool_size：表示InnoDB类型的表和索引的最大缓存。这个值越大，查询的速度就会越快。这个值太大了就会影响操作系统的性能

###6/ 对大表进行拆分

    1. 水平拆分 比如10000条记录分一张表

    2. 垂直拆分 比如将新闻信息放在一张表 新闻内容放在另一张表',`status`='1',`url`='mysql-you-hua-jian-yi',`updatetime`='1510018477' WHERE `id` = 21 [ RunTime:0.0011s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000073s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000157s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005514s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005595s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000174s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000243s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000486s ]
INFO: [ app_end ] --END-- [ RunTime:0.000561s ]

[ 2017-11-07T09:34:38+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000023s ]
INFO: [ app_init ] --END-- [ RunTime:0.000420s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000422s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000498s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0011s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000120s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000203s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010694s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010774s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000173s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000241s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000649s ]
INFO: [ app_end ] --END-- [ RunTime:0.000793s ]

[ 2017-11-07T09:34:47+08:00 ] ::1 /admin.php/posts/edit/id/20.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000396s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000554s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000680s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0038s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0010s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0008s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0005s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000146s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000233s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013549s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013697s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000325s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000677s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001169s ]
INFO: [ app_end ] --END-- [ RunTime:0.001352s ]

[ 2017-11-07T09:34:54+08:00 ] ::1 /admin.php/posts/edit/id/20.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000361s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000412s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000493s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: UPDATE `blog_posts` SET `title`='Laravel 5.4 Migrate error:Specified Key Was Too Long Error',`cate`='29',`tags`='|8|',`createtime`='1504684498',`content`='    
    [Illuminate\\Database\\QueryException]                                                                                                                                                 
    SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long; max key length is 767 bytes (SQL: alter table `users` add unique `users_email_unique`(`email`))  
                                                                                                                                                                                       
    [PDOException]                                                                                                   
    SQLSTATE[42000]: Syntax error or access violation: 1071 Specified key was too long; max key length is 767 bytes 

###问题根源

MySql支持的utf8编码最大字符长度为3字节，如果遇到4字节的宽字符就会出现插入异常。三个字节UTF-8最大能编码的Unicode字符是0xffff，即Unicode中的基本多文种平面（BMP）。因而包括Emoji表情（Emoji是一种特殊的Unicode编码）在内的非基本多文种平面的Unicode字符都无法使用MySql的utf8字符集存储。

这也应该就是Laravel 5.4改用4字节长度的utf8mb4字符编码的原因之一。不过要注意的是，只有MySql 5.5.3版本以后才开始支持utf8mb4字符编码（查看版本：selection version();）。如果MySql版本过低，需要进行版本更新。

注：如果是从Laravel 5.3升级到Laravel 5.4，不需要对字符编码做切换。

###解决问题

1.升级MySql版本到5.5.3以上。

2.手动配置迁移命令migrate生成的默认字符串长度，在AppServiceProvider中调用Schema::defaultStringLength方法来实现配置：

    文件位置：

    /Users/wy/Documents/www/news.local.com/app/Providers/AppServiceProvider.php
    use Illuminate\\Support\\Facades\\Schema;

     /**
      * Bootstrap any application services.
      *
      * @return void
      */
        public function boot()
        {
           Schema::defaultStringLength(191);
        }
',`status`='1',`url`='Laravel-5-4-Migrate-error-Specified-Key-Was-Too-Long-Error',`updatetime`='1510018494' WHERE `id` = 20 [ RunTime:0.0015s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000083s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000185s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005887s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005980s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000184s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000254s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000496s ]
INFO: [ app_end ] --END-- [ RunTime:0.000570s ]

[ 2017-11-07T09:34:55+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000380s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000403s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000480s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0028s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0017s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000151s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000278s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011675s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011800s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000190s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000258s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000550s ]
INFO: [ app_end ] --END-- [ RunTime:0.000671s ]

[ 2017-11-07T09:34:59+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000613s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000482s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000561s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000128s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000212s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010565s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010651s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000175s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000243s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000620s ]
INFO: [ app_end ] --END-- [ RunTime:0.000740s ]

[ 2017-11-07T09:35:01+08:00 ] ::1 /admin.php/posts/edit/id/19.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000600s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001173s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001616s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 19 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000171s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000299s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011955s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012081s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000203s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000307s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000713s ]
INFO: [ app_end ] --END-- [ RunTime:0.000824s ]

[ 2017-11-07T09:35:05+08:00 ] ::1 /admin.php/posts/edit/id/19.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000359s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000555s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000672s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: UPDATE `blog_posts` SET `title`='一个强大好用的音视频工具，ffmpeg',`cate`='10',`tags`='|17|19|',`createtime`='1494143067',`content`='
###列出设备

    /usr/local/bin/ffmpeg -list_devices true -f dshow -i dummy  

###保存文件

    /usr/local/bin/ffmpeg -f dshow -i video=&quot;Integrated Camera&quot; -vcodec libx264 mycamera.mkv  

###直接播放

    /usr/local/bin/ffplay -f dshow -i video=&quot;Integrated Camera&quot;  

###推流

    /usr/local/bin/ffmpeg -f dshow -i video=&quot;Integrated Camera&quot; -vcodec libx264 -preset:v ultrafast -tune:v zerolatency -f flv rtmp://192.168.1.5/mytv/test1

###录制屏幕

    /usr/local/bin/ffmpeg -f x11grab -s 1600x900 -r 50 -vcodec libx264 –preset:v ultrafast –tune:v zerolatency -crf 18 -f mpegts rtmp://192.168.1.5/mytv/test2      在Windows平台下，使用-dshow取代x11grab

###抽帧存图

/usr/local/bin/ffmpeg -i aa.mp4 -vframes 128 -r 1 -q:v 2 -f image2 -ss 90 ~/Downloads/image-1.jpeg;

###PHP结合ffmpeg获取视频/音频文件信息

    
    $command = sprintf(FFMPEG_PATH, $file);
    ob_start();
    passthru($command);
    $info = ob_get_contents();
    ob_end_clean();

    $data = array();
    if (preg_match(&quot;/Duration: (.*?), start: (.*?), bitrate: (\\d*) kb\\/s/&quot;, $info, $match)) {
        $data[\'duration\'] = $match[1]; //播放时间
        $arr_duration = explode(\':\', $match[1]);
        $data[\'seconds\'] = $arr_duration[0] * 3600 + $arr_duration[1] * 60 + $arr_duration[2]; //转换播放时间为秒数
        $data[\'start\'] = $match[2]; //开始时间
        $data[\'bitrate\'] = $match[3]; //码率(kb)
    }
    if (preg_match(&quot;/Video: (.*?), (.*?), (.*?)[,\\s]/&quot;, $info, $match)) {
        $data[\'vcodec\'] = $match[1]; //视频编码格式
        $data[\'vformat\'] = $match[2]; //视频格式
        $data[\'resolution\'] = $match[3]; //视频分辨率
        $arr_resolution = explode(\'x\', $match[3]);
        $data[\'width\'] = $arr_resolution[0];
        $data[\'height\'] = $arr_resolution[1];
    }
    if (preg_match(&quot;/Audio: (\\w*), (\\d*) Hz/&quot;, $info, $match)) {
        $data[\'acodec\'] = $match[1]; //音频编码
        $data[\'asamplerate\'] = $match[2]; //音频采样频率
    }
    if (isset($data[\'seconds\']) &amp;&amp; isset($data[\'start\'])) {
        $data[\'play_time\'] = $data[\'seconds\'] + $data[\'start\']; //实际播放时间
    }
    $data[\'size\'] = filesize($file); //文件大小
    return $data;


    -i 指定输入的文件
    -acodec 指定输出文件的音频编码
    -vcodec 指定输出文件的视频编码

###最简单的抓屏：

    /usr/local/bin/ffmpeg -f gdigrab -i desktop out.mpg


###从屏幕的（10,20）点处开始，抓取640x480的屏幕，设定帧率为5

    /usr/local/bin/ffmpeg -f gdigrab -framerate 5 -offset_x 10 -offset_y 20 -video_size 640x480 -i desktop out.mpg

    /usr/local/bin/ffmpeg -ss START -t DURATION -i INPUT -vcodec copy -acodec copy OUTPUT
    
    对上面的命令稍做个解释。
    -ss 开始时间，如： 00:00:20，表示从20秒开始；
    -t 时长，如： 00:00:10，表示截取10秒长的视频；
    -i 输入，后面是空格，紧跟着就是输入视频文件；
    -vcodec copy 和 -acodec copy表示所要使用的视频和音频的编码格式，这里指定为copy表示原样拷贝；
    INPUT，输入视频文件；
    OUTPUT，输出视频文件；


    /usr/local/bin/ffmpeg -f x11grab -s xga -r 10 -i :0.0+0+0 wheer.avi
    -i video=&quot;screen-capture-recorder&quot;

    /usr/local/bin/ffmpeg -f dshow -i video=&quot;DirectShow video devices&quot; -f dshow -i audio=&quot;DirectShow audio devices&quot; -pix_fmt yuv420p -vcodec libx264 -acodec libvo_aacenc -s 1280x720 -r 25 -q 10 -ar 44100 -ac 2 -tune zerolatency -preset ultrafast -f mpegts - | ffmpeg -f mpegts -i - -c copy -bsf:a aac_adtstoasc -f flv temp.flv

    -r选项设置每秒提取图片的帧数。
    -q:v 2  设置输出文件的视频质量为：优

    截取一张352x240尺寸大小的，格式为jpg的图片

    /usr/local/bin/ffmpeg -i 1.mp4 -y -f image2 -t 120.001 -s 352x240 a.jpg

    把视频的前30帧转换成一个Animated Gif ：

    /usr/local/bin/ffmpeg -i 1.mp4 -vframes 30 -y -f gif a.gif
    
    生成缩略图

    /usr/local/bin/ffmpeg -i 1.mp4 -y -f image2 -ss 08.010 -t 0.001 -s 352x240 b.jpg

###列出本机设备

    /usr/local/bin/ffmpeg -list_devices true -f dshow -i dummy

    从视频中生成gif图片

    /usr/local/bin/ffmpeg -i 1.mp4 -ss 10 -t 10   -s 480x360  tutu.gif
## -ss 指从 10s 开始转码,-t 指转换 10s 的视频 -s 指定尺寸

    rtmp://video-center.alivecdn.com/AppName/StreamName?vhost=zhibo.busionline.com

前言：FFmpeg是做音视频开发的一个优秀的开源库，可以在不同平台下编译，能够实现视频采集、视频格式转化、视频截图、视频添加水印、视频切片、视频录制、视频推流、更改音视频参数功能等。通过终端命令及开发时如何实现这些功能，本文做一整理记录，以备不时之需。下面共四组命令。

###第一组

1.分离视频音频流

    /usr/local/bin/ffmpeg -i input_file -vcodec copy -an output_file_video　　//分离视频流ffmpeg -i input_file -acodec copy -vn output_file_audio　　//分离音频流

2.视频解复用

    /usr/local/bin/ffmpeg –i test.mp4 –vcodec copy –an –f m4v test.264

    /usr/local/bin/ffmpeg –i test.avi –vcodec copy –an –f m4v test.264

3.视频转码

    /usr/local/bin/ffmpeg –i test.mp4 –vcodec h264 –s 352*278 –an –f m4v test.264

    //转码为码流原始文件

    /usr/local/bin/ffmpeg –i test.mp4 –vcodec h264 –bf 0 –g 25 –s 352*278 –an –f m4v test.264 //转码为码流原始文件

    /usr/local/bin/ffmpeg –i test.avi -vcodec mpeg4 –vtag xvid –qsame test_xvid.avi //转码为封装文件

    说明：-bf B帧数目控制，-g 关键帧间隔控制，-s 分辨率控制

4.视频封装

    /usr/local/bin/ffmpeg –i video_file –i audio_file –vcodec copy –acodec copy output_file

5.视频剪切

    /usr/local/bin/ffmpeg –i test.avi –r 1 –f image2 image-%3d.jpeg //提取图片

    /usr/local/bin/ffmpeg -ss 0:1:30 -t 0:0:20 -i input.avi -vcodec copy -acodec copy output.avi //剪切视频//-r 提取图像的频率，-ss 开始时间，-t 持续时间

6.视频录制

    /usr/local/bin/ffmpeg –i rtsp://192.168.3.205:5555/test –vcodec copy out.avi

7、利用ffmpeg视频切片

主要把视频源切成若干个.ts格式的视频片段然后生成一个.m3u8的切片文件索引提供给html5的video做hls直播源

命令如下：

    /usr/local/bin/ffmpeg -i 视频源地址 -strict -2 -c:v libx264 -c:a aac -f hls m3u8文件输出地址

8、ffmpeg缩放视频

假设原始视频尺寸是 1080p（即 1920×1080 px，16:9），使用下面命令可以缩小到 480p：(ps:以下这个命令，据说违反微信平台相关法律，蛋疼，用不了文字，只能用图片了)


各个参数的含义：
    -i a.mov 指定待处理视频的文件名

    -vf scale=853:480 vf 参数用于指定视频滤镜，其中 scale 表示缩放，后面的数字表示缩放至 853×480 px，其中的 853px 是计算而得，因为原始视频的宽高比为 16:9，所以为了让目标视频的高度为 480px，则宽度 = 480 x 9 / 16 = 853

    -acodec aac 指定音频使用 aac 编码。注：因为 ffmpeg 的内置 aac 编码目前还是试验阶段，故会提示添加参数 “-strict -2” 才能继续，尽管添加即可。又或者使用外部的 libfaac（需要重新编译 ffmpeg）。
    
    -vcodec h264 指定视频使用 h264 编码。注：目前手机一般视频拍摄的格式（封装格式、文件格式）为 mov 或者 mp4，这两者的音频编码都是 aac，视频都是 h264。
    
    out.mp4 指定输出文件名

    上面的参数 scale=853:480 当中的宽度和高度实际应用场景中通常只需指定一个，比如指定高度为 480 或者 720，至于宽度则可以传入 “-1” 表示由原始视频的宽高比自动计算而得。即参数可以写为：scale=-1:480，当然也可以 scale=480:-1 

9、ffmpeg裁剪

有时可能只需要视频的正中一块，而两头的内容不需要，这时可以对视频进行裁剪（crop），比如有一个竖向的视频 1080 x 1920，如果指向保留中间 1080×1080 部分命令如下：ffmpeg -i 视频源地址 -strict -2 -vf crop=1080:1080:0:420 视频输出地址（如：out.mp4）

其中的 crop=1080:1080:0:420 才裁剪参数，具体含义是 crop=width:height:x:y，其中 width 和 height 表示裁剪后的尺寸，x:y 表示裁剪区域的左上角坐标。比如当前这个示例，我们只需要保留竖向视频的中间部分，所以 x 不用偏移，故传入0，而 y 则需要向下偏移：(1920 – 1080) / 2 = 420

10. 转视频格式

    /usr/local/bin/ffmpeg -i source.mp4 -c:v libx264 -crf 24 destination.flv

    其中 -crf 很重要，是控制转码后视频的质量，质量越高，文件也就越大。

    此值的范围是 0 到 51：0 表示高清无损；23 是默认值（如果没有指定此参数）；51 虽然文件最小，但效果是最差的。

    值越小，质量越高，但文件也越大，建议的值范围是 18 到 28。而值 18 是视觉上看起来无损或接近无损的，当然不代表是数据（技术上）的转码无损。

###第二组

1.ffmpeg 把文件当做直播推送至服务器 (RTMP + FLV)

    /usr/local/bin/ffmpeg - re -i demo.mp4 -c copy - f flv rtmp://w.gslb.letv/live/streamid

2.将直播的媒体保存到本地

    /usr/local/bin/ffmpeg -i rtmp://r.glsb.letv/live/streamid -c copy streamfile.flv

3.将一个直播流，视频改用h264压缩，音频改用faac压缩，送至另一个直播服务器

    /usr/local/bin/ffmpeg -i rtmp://r.glsb.letv/live/streamidA -c:a libfaac -ar 44100 -ab 48k -c:v libx264 -vpre slow -vpre baseline -f flv rtmp://w.glsb.letv/live/streamb

4.提取视频中的音频,并保存为mp3 然后输出

    /usr/local/bin/ffmpeg -i input.avi -b:a 128k output.mp3

5. 将mp3转为pcm

    ffmpeg-iinput.mp3-fs16be-acodecpcm_s16beoutput.pcm

###第三组

1.获取视频的信息

    /usr/local/bin/ffmpeg -i video.avi

2.将图片序列合成视频

    /usr/local/bin/ffmpeg -f image2 -i image%d.jpg video.mpg

    上面的命令会把当前目录下的图片（名字如：image1.jpg. image2.jpg. 等...）合并成video.mpg

3.将视频分解成图片序列

    /usr/local/bin/ffmpeg -i video.mpg image%d.jpg

    上面的命令会生成image1.jpg. image2.jpg. ...

    支持的图片格式有：PGM. PPM. PAM. PGMYUV. JPEG. GIF. PNG. TIFF. SGI

4.为视频重新编码以适合在iPod/iPhone上播放

    /usr/local/bin/ffmpeg -i source_video.avi input -acodec aac -ab 128kb -vcodec mpeg4 -b 1200kb -mbd 2 -flags +4mv+trell -aic 2 -cmp 2 -subcmp 2 -s 320x180 -title X final_video.mp4

5.为视频重新编码以适合在PSP上播放

    /usr/local/bin/ffmpeg -i source_video.avi -b 300 -s 320x240 -vcodec xvid -ab 32 -ar 24000 -acodec aac final_video.mp4

6.从视频抽出声音.并存为Mp3

    /usr/local/bin/ffmpeg -i source_video.avi -vn -ar 44100 -ac 2 -ab 192 -f mp3 sound.mp3

7.将wav文件转成Mp3

    /usr/local/bin/ffmpeg -i son_origine.avi -vn -ar 44100 -ac 2 -ab 192 -f mp3 son_final.mp3

8.将.avi视频转成.mpg

    /usr/local/bin/ffmpeg -i video_origine.avi video_finale.mpg

9.将.mpg转成.avi

    /usr/local/bin/ffmpeg -i video_origine.mpg video_finale.avi

10.将.avi转成gif动画（未压缩）

    /usr/local/bin/ffmpeg -i video_origine.avi gif_anime.gif

11.合成视频和音频

    /usr/local/bin/ffmpeg -i son.wav -i video_origine.avi video_finale.mpg

12.将.avi转成.flv

    /usr/local/bin/ffmpeg -i video_origine.avi -ab 56 -ar 44100 -b 200 -r 15 -s 320x240 -f flv video_finale.flv

13.将.avi转成dv

    /usr/local/bin/ffmpeg -i video_origine.avi -s pal -r pal -aspect 4:3 -ar 48000 -ac 2 video_finale.dv

    或者：

    /usr/local/bin/ffmpeg -i video_origine.avi -target pal-dv video_finale.dv

14.将.avi压缩成divx

    /usr/local/bin/ffmpeg -i video_origine.avi -s 320x240 -vcodec msmpeg4v2 video_finale.avi

15.将Ogg Theora压缩成Mpeg dvd

    /usr/local/bin/ffmpeg -i film_sortie_cinelerra.ogm -s 720x576 -vcodec mpeg2video -acodec mp3 film_terminate.mpg

16.将.avi压缩成SVCD mpeg2

    NTSC格式：

    /usr/local/bin/ffmpeg -i video_origine.avi -target ntsc-svcd video_finale.mpg

    PAL格式：

    /usr/local/bin/ffmpeg -i video_origine.avi -target pal-dvcd video_finale.mpg

17.将.avi压缩成VCD mpeg2

    NTSC格式： 
    /usr/local/bin/ffmpeg -i video_origine.avi -target ntsc-vcd video_finale.mpg

    PAL格式：

    /usr/local/bin/ffmpeg -i video_origine.avi -target pal-vcd video_finale.mpg

18.多通道编码

    /usr/local/bin/ffmpeg -i fichierentree -pass 2 -passlogfile ffmpeg2pass fichiersortie-2

19.从flv提取mp3

    /usr/local/bin/ffmpeg -i source.flv -ab 128k dest.mp3

###第四组

1、将文件当做直播送至live

    /usr/local/bin/ffmpeg -re -i localFile.mp4 -c copy -f flv rtmp://server/live/streamName

2、将直播媒体保存至本地文件

    /usr/local/bin/ffmpeg -i rtmp://server/live/streamName -c copy dump.flv

3、将其中一个直播流，视频改用h264压缩，音频不变，送至另外一个直播服务流

    /usr/local/bin/ffmpeg -i rtmp://server/live/originalStream -c:a copy -c:v libx264 -vpre slow -f flv rtmp://server/live/h264Stream

4、将其中一个直播流，视频改用h264压缩，音频改用faac压缩，送至另外一个直播服务流

    /usr/local/bin/ffmpeg -i rtmp://server/live/originalStream -c:a libfaac -ar 44100 -ab 48k -c:v libx264 -vpre slow -vpre baseline -f flv rtmp://server/live/h264Stream

5、将其中一个直播流，视频不变，音频改用faac压缩，送至另外一个直播服务流

    /usr/local/bin/ffmpeg -i rtmp://server/live/originalStream -acodec libfaac -ar 44100 -ab 48k -vcodec copy -f flv rtmp://server/live/h264_AAC_Stream

6、将一个高清流，复制为几个不同视频清晰度的流重新发布，其中音频不变

    /usr/local/bin/ffmpeg -re -i rtmp://server/live/high_FMLE_stream -acodec copy -vcodec x264lib -s 640×360 -b 500k -vpre medium -vpre baseline rtmp://server/live/baseline_500k -acodec copy -vcodec x264lib -s 480×272 -b 300k -vpre medium -vpre baseline rtmp://server/live/baseline_300k -acodec copy -vcodec x264lib -s 320×200 -b 150k -vpre medium -vpre baseline rtmp://server/live/baseline_150k -acodec libfaac -vn -ab 48k rtmp://server/live/audio_only_AAC_48k

7、功能一样，只是采用-x264opts选项

    /usr/local/bin/ffmpeg -re -i rtmp://server/live/high_FMLE_stream -c:a copy -c:v x264lib -s 640×360 -x264opts bitrate=500:profile=baseline:preset=slow rtmp://server/live/baseline_500k -c:a copy -c:v x264lib -s 480×272 -x264opts bitrate=300:profile=baseline:preset=slow rtmp://server/live/baseline_300k -c:a copy -c:v x264lib -s 320×200 -x264opts bitrate=150:profile=baseline:preset=slow rtmp://server/live/baseline_150k -c:a libfaac -vn -b:a 48k rtmp://server/live/audio_only_AAC_48k

8、将当前摄像头及音频通过DSSHOW采集，视频h264、音频faac压缩后发布

    /usr/local/bin/ffmpeg -r 25 -f dshow -s 640×480 -i video=”video source name”:audio=”audio source name” -vcodec libx264 -b 600k -vpre slow -acodec libfaac -ab 128k -f flv rtmp://server/application/stream_name

9、将一个JPG图片经过h264压缩循环输出为mp4视频

    /usr/local/bin/ffmpeg -i INPUT.jpg -an -vcodec libx264 -coder 1 -flags +loop -cmp +chroma -subq 10 -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -flags2 +dct8x8 -trellis 2 -partitions +parti8x8+parti4x4 -crf 24 -threads 0 -r 25 -g 25 -y OUTPUT.mp4

10、将普通流视频改用h264压缩，音频不变，送至高清流服务(新版本FMS live=1)

    /usr/local/bin/ffmpeg -i rtmp://server/live/originalStream -c:a copy -c:v libx264 -vpre slow -f flv “rtmp://server/live/h264Stream live=1〃
',`status`='1',`url`='yi-ge-qiang-da-hao-yong-de-yin-shi-pin-gong-ju-ffmpeg',`updatetime`='1510018505' WHERE `id` = 19 [ RunTime:0.0028s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000074s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000161s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005183s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005268s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000173s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000280s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000509s ]
INFO: [ app_end ] --END-- [ RunTime:0.000586s ]

[ 2017-11-07T09:35:06+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000355s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000410s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000486s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0026s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0007s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000119s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000209s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010707s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010792s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000170s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000242s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000565s ]
INFO: [ app_end ] --END-- [ RunTime:0.000645s ]

[ 2017-11-07T09:35:09+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000629s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000426s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000517s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0013s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0010s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000118s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000200s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010678s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010760s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000166s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000237s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000596s ]
INFO: [ app_end ] --END-- [ RunTime:0.000707s ]

[ 2017-11-07T09:35:11+08:00 ] ::1 /admin.php/posts/edit/id/18.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000521s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000974s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001173s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0022s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 18 LIMIT 1   [ RunTime:0.0006s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000136s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000228s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009704s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009794s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000160s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000230s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000584s ]
INFO: [ app_end ] --END-- [ RunTime:0.000678s ]

[ 2017-11-07T09:35:14+08:00 ] ::1 /admin.php/posts/edit/id/18.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000375s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000419s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000504s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: UPDATE `blog_posts` SET `title`='Gperftools优化nginx和mysql的内存分配',`cate`='30',`tags`='|15|16|17|18|',`createtime`='1439278539',`content`='
1.Google 开发的 gperftools 包含四个工具，分别是：TCMalloc、heap-checker、heap-profiler 和 cpu-profiler

2.TCMalloc是 gperftools 的其中一个工具，用于优化C++写的多线程应用，与标准的glibc库的malloc相比，TCMalloc在内存的分配效率和速度要高，可以在高并发的情况下很好的控制内存的使用，提高服务器的性能，降低负载。

3.使用 TCMalloc 优化 Nginx 和 MySQL 的内存管理，性能将会有一定程度的提升，特别是对MYSQL服务器高并发下情况下的性能。

###安装 libunwind 库

1.如果系统是64位的需要先安装libunwind库，32位系统则不需要安装。

2.libunwind 库为基于64位CPU和操作系统的程序提供了基本的堆栈辗转开解功能，其中包括用于输出堆栈跟踪的API、用于以编程方式辗转开解堆栈的API以及支持C++异常处理机制的API。

    wget http://download.savannah.gnu.org/releases/libunwind/libunwind-1.0.1.tar.gz
    tar -zxvf libunwind-1.0.1.tar.gz
    cd libunwind-1.0.1/
    CFLAGS=-fPIC ./configure
    make CFLAGS=-fPIC
    make CFLAGS=-fPIC install
    cd ../

###gperftools 的安装

gperftools 项目网站 http://code.google.com/p/gperftools/

    wget http://gperftools.googlecode.com/files/gperftools-2.0.tar.gz
    tar -zxvf gperftools-2.0.tar.gz
    cd gperftools-2.0
    ./configure --prefix=/usr/local --enable-frame-pointers
    make
    make install
    cd ../

1.如果是32位系统,可以不添加 –enable-frame-pointers

2.如果是64位系统，并且之前没有安装libunwind，那么一定要添加 –enable-frame-pointers 参数。

    echo &quot;/usr/local/lib&quot; &gt; /etc/ld.so.conf.d/usr_local_lib.conf
    /sbin/ldconfig

###  为 gperftools 添加线程目录:

    mkdir /tmp/tcmalloc
    chmod 0777 /tmp/tcmalloc

####  使用gperftools优化Nginx：
####  为了使 Nginx 支持 gperftools，增加参数 –with-google_perftools_module 重新编译Nginx。
####  修改/usr/local/nginx/conf/nginx.conf
####  在pid这行的下面添加

    google_perftools_profiles /tmp/tcmalloc;

####重新启动nginx
####使用gperftools优化MYSQL：
####查找文件 /usr/local/mysql/bin/mysqld_safe
####在# executing mysqld_safe 下面加上

    export LD_PRELOAD=/usr/local/lib/libtcmalloc.so

####重新启动MYSQL
####验证 tcmalloc 是否运行：

    lsof -n | grep tcmalloc',`status`='1',`url`='Gperftools-you-hua-nginx-he-mysql-de-nei-cun-fen-pei',`updatetime`='1510018514' WHERE `id` = 18 [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000073s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000157s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005234s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005320s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000176s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000245s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000485s ]
INFO: [ app_end ] --END-- [ RunTime:0.000558s ]

[ 2017-11-07T09:35:16+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000197s ]
INFO: [ app_init ] --END-- [ RunTime:0.000718s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000665s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000788s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0008s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0091s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0096s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0090s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000120s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000203s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014202s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014299s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000204s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000274s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000591s ]
INFO: [ app_end ] --END-- [ RunTime:0.000681s ]

[ 2017-11-07T09:35:18+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000035s ]
INFO: [ app_init ] --END-- [ RunTime:0.000718s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000465s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000547s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0024s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0078s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000119s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000201s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010668s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010754s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000192s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000261s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000659s ]
INFO: [ app_end ] --END-- [ RunTime:0.000763s ]

[ 2017-11-07T09:35:20+08:00 ] ::1 /admin.php/posts/edit/id/17.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000441s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000501s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000607s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 17 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0087s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000200s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000425s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014504s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014592s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000166s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000236s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000622s ]
INFO: [ app_end ] --END-- [ RunTime:0.000731s ]

[ 2017-11-07T09:35:23+08:00 ] ::1 /admin.php/posts/edit/id/17.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000354s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000417s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000499s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0034s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: UPDATE `blog_posts` SET `title`='小工具htop 强化过的top哦',`cate`='10',`tags`='|17|18|',`createtime`='1420529092',`content`='
Htop是一款运行于Linux系统监控与进程管理软件，用于取代Unix下传统的top。与top只提供最消耗资源的进程列表不同，htop提供所有进程的列表，并且使用彩色标识出处理器、swap和内存状态。

用户一般可以在top无法提供详尽系统信息的情况下选择安装并使用htop。比如，在查找应用程序的内存泄漏问题时。与top相比，htop提供更方便、光标控制的界面来杀死进程。

htop用C语言编写，采用了ncurses库。htop的名称源于其作者的名字。

## 安装-htop
    yum -y install ncurses-devel #htop依赖ncurses
    cd /opt
    wget -c http://ncu.dl.sourceforge.net/project/htop/htop/1.0.2/htop-1.0.2.tar.gz
    tar xzf htop-1.0.2.tar.gz
    cd htop-1.0.2
    ./configure
    make &amp;&amp; make install

## 示例图片

![示例图片](/Data/2017-11-06/5a000decb95be.gif &quot;示例图片&quot;)',`status`='1',`url`='xiao-gong-ju-htop-qiang-hua-guo-de-top-o',`updatetime`='1510018523' WHERE `id` = 17 [ RunTime:0.0013s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000071s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000152s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009022s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009106s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000175s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000244s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000479s ]
INFO: [ app_end ] --END-- [ RunTime:0.000553s ]

[ 2017-11-07T09:35:24+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000035s ]
INFO: [ app_init ] --END-- [ RunTime:0.000655s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000459s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000546s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0017s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0103s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0023s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0085s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000205s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014481s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014572s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000174s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000245s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000560s ]
INFO: [ app_end ] --END-- [ RunTime:0.000671s ]

[ 2017-11-07T09:35:29+08:00 ] ::1 /admin.php/posts/edit/id/16.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000545s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000669s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000806s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0090s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0078s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 16 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0090s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000138s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000228s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011215s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011298s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000163s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000234s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000595s ]
INFO: [ app_end ] --END-- [ RunTime:0.000708s ]

[ 2017-11-07T09:35:33+08:00 ] ::1 /admin.php/posts/edit/id/16.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000375s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000431s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000516s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0028s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0032s ]
SQL: UPDATE `blog_posts` SET `title`='PHP Break 关键字',`cate`='29',`tags`='|8|',`createtime`='1409451444',`content`='
php的break关键字可以接受一个可选的数字参数来决定跳出几重循环

break 结束当前 for，foreach，while，do-while 或者 switch 结构的执行。

break可以接受一个可选的数字参数来决定跳出几重循环。

    &lt;?php
        $arr = array(\'one\', \'two\', \'three\', \'four\', \'stop\', \'five\');
        while (list (, $val) = each($arr)) {
            if ($val == \'stop\') {
                break;    /* You could also write \'break 1;\' here. */
            }
            echo &quot;$val&lt;br /&gt;\\n&quot;;
        }

        /* Using the optional argument. */

        $i = 0;
        while (++$i) {
            switch ($i) {
            case 5:
                echo &quot;At 5&lt;br /&gt;\\n&quot;;
                break 1;  /* Exit only the switch. */
            case 10:
                echo &quot;At 10; quitting&lt;br /&gt;\\n&quot;;
                break2;  /* Exit the switch and the while. */
            default:
                break;
            }
        }
    ',`status`='1',`url`='PHP-Break-guan-jian-zi',`updatetime`='1510018533' WHERE `id` = 16 [ RunTime:0.0012s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000072s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000157s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011704s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011791s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000181s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000255s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000490s ]
INFO: [ app_end ] --END-- [ RunTime:0.000567s ]

[ 2017-11-07T09:35:34+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000072s ]
INFO: [ app_init ] --END-- [ RunTime:0.001050s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000609s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000730s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0133s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0090s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0077s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0078s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000122s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000214s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014800s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014906s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000221s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000293s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000597s ]
INFO: [ app_end ] --END-- [ RunTime:0.000685s ]

[ 2017-11-07T09:35:39+08:00 ] ::1 /admin.php/posts/edit/id/11.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000034s ]
INFO: [ app_init ] --END-- [ RunTime:0.000710s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000534s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000637s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0098s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0087s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 11 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0083s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000135s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000216s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013036s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013137s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000199s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000285s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000789s ]
INFO: [ app_end ] --END-- [ RunTime:0.000935s ]

[ 2017-11-07T09:35:42+08:00 ] ::1 /admin.php/posts/edit/id/11.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000409s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000552s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000676s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: UPDATE `blog_posts` SET `title`='Apache处理http请求的生命周期',`cate`='30',`tags`='|16|17|20|',`createtime`='1409450533',`content`='
####Apache请求处理循环的11个阶段都做了哪些事情呢？

    1.Post-Read-Request阶段: 

    在正常请求处理流程中，这是模块可以插入钩子的第一个阶段。对于那些想很早进入处理请求的模块来说，这个阶段可以被利用。

    2.URI Translation阶段 :  

    Apache在本阶段的主要工作：将请求的URL映射到本地文件系统。模块可以在这阶段插入钩子，执行自己的映射逻辑。mod_alias就是利用这个阶段工作的。

    3.Header Parsing阶段 : 

    Apache在本阶段的主要工作：检查请求的头部。由于模块可以在请求处理流程的任何一个点上执行检查请求头部的任务，因此这个钩子很少被使用。mod_setenvif就是利用这个阶段工作的。

    4.Access Control阶段 :  

    Apache在本阶段的主要工作：根据配置文件检查是否允许访问请求的资源。Apache的标准逻辑实现了允许和拒绝指令。mod_authz_host就是利用这个阶段工作的。

    5.Authentication阶段 :  

    Apache在本阶段的主要工作：按照配置文件设定的策略对用户进行认证，并设定用户名区域。模块可以在这阶段插入钩子，实现一个认证方法。

    6.Authorization阶段 :  

    Apache在本阶段的主要工作：根据配置文件检查是否允许认证过的用户执行请求的操作。模块可以在这阶段插入钩子，实现一个用户权限管理的方法。

    7.MIME Type Checking阶段 :  

    Apache在本阶段的主要工作：根据请求资源的MIME类型的相关规则，判定将要使用的内容处理函数。标准模块mod_negotiation和mod_mime实现了这个钩子。

    8.FixUp阶段 :  

    这是一个通用的阶段，允许模块在内容生成器之前，运行任何必要的处理流程。和Post_Read_Request类似，这是一个能够捕获任何信息的钩子，也是最常使用的钩子。

    9.Response阶段 : 

    Apache在本阶段的主要工作：生成返回客户端的内容，负责给客户端发送一个恰当的回复。这个阶段是整个处理流程的核心部分。

    10.Logging阶段 :  

    Apache在本阶段的主要工作：在回复已经发送给客户端之后记录事务。模块可能修改或者替换Apache的标准日志记录。

    11.CleanUp阶段 : 

    Apache在本阶段的主要工作：清理本次请求事务处理完成之后遗留的环境，比如文件、目录的处理或者Socket的关闭等等，这是Apache一次请求处理的最后一个阶段。',`status`='1',`url`='Apache-chu-li-http-qing-qiu-de-sheng-ming-zhou-qi',`updatetime`='1510018542' WHERE `id` = 11 [ RunTime:0.0013s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000073s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000160s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005571s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005652s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000176s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000245s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000478s ]
INFO: [ app_end ] --END-- [ RunTime:0.000552s ]

[ 2017-11-07T09:35:43+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000355s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000499s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000598s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0028s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0032s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0052s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0098s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000120s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000203s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010750s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010849s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000175s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000246s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000648s ]
INFO: [ app_end ] --END-- [ RunTime:0.000761s ]

[ 2017-11-07T09:35:47+08:00 ] ::1 /admin.php/posts/edit/id/12.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000496s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000570s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000662s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0020s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 12 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000144s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000231s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009632s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009715s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000173s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000243s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000626s ]
INFO: [ app_end ] --END-- [ RunTime:0.000732s ]

[ 2017-11-07T09:35:59+08:00 ] ::1 /admin.php/posts/edit/id/12.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000023s ]
INFO: [ app_init ] --END-- [ RunTime:0.000385s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000459s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000558s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0020s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: UPDATE `blog_posts` SET `title`='html DocType',`cate`='28',`tags`='|27|',`createtime`='1409450503',`content`='
    &lt;!doctype html&gt;

1. 所有浏览器都支持 &lt;!DOCTYPE&gt; 声明。
2. &lt;!DOCTYPE&gt; 声明必须是 HTML 文档的第一行，位于 &lt;html&gt; 标签之前。
3. &lt;!DOCTYPE&gt; 声明不是 HTML 标签；它是指示 web 浏览器关于页面使用哪个 HTML 版本进行编写的指令。
4. 在 HTML 4.01 中，&lt;!DOCTYPE&gt; 声明引用 DTD，因为 HTML 4.01 基于 SGML。
5. DTD 规定了标记语言的规则，这样浏览器才能正确地呈现内容。
6. HTML5 不基于 SGML，所以不需要引用 DTD。
7. &lt;!DOCTYPE&gt; 声明没有结束标签。
8. &lt;!DOCTYPE&gt; 声明对大小写不敏感。

提示：请始终向 HTML 文档添加 &lt;!DOCTYPE&gt; 声明，这样浏览器才能获知文档类型。

1. HTML        1991
2. HTML+       1993
3. HTML 2.0    1995
4. HTML 3.2    1997
5. HTML 4.01   1999
6. XHTML 1.0   2000
7. HTML5       2012
8. XHTML5      2013

常用的 DOCTYPE 声明如下
HTML 5

    &lt;!DOCTYPE html&gt;

### HTML 4.01 Strict
该 DTD 包含所有 HTML 元素和属性，但不包括展示性的和弃用的元素（比如 font）。不允许框架集（Framesets）。


    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01//EN&quot; &quot;http://www.w3.org/TR/html4/strict.dtd&quot;&gt; 

### HTML 4.01 Transitional
该 DTD 包含所有 HTML 元素和属性，包括展示性的和弃用的元素（比如 font）。不允许框架集（Framesets）。

    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;

### HTML 4.01 Frameset
该 DTD 等同于 HTML 4.01 Transitional，但允许框架集内容。

    &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Frameset//EN&quot; &quot;http://www.w3.org/TR/html4/frameset.dtd&quot;&gt;

### XHTML 1.0 Strict
该 DTD 包含所有 HTML 元素和属性，但不包括展示性的和弃用的元素（比如 font）。不允许框架集（Framesets）。必须以格式正确的 XML 来编写标记。

    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;

### XHTML 1.0 Transitional
该 DTD 包含所有 HTML 元素和属性，包括展示性的和弃用的元素（比如 font）。不允许框架集（Framesets）。必须以格式正确的 XML 来编写标记。

    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;

### XHTML 1.0 Frameset
该 DTD 等同于 XHTML 1.0 Transitional，但允许框架集内容。

    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Frameset//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd&quot;&gt;

### XHTML 1.1
该 DTD 等同于 XHTML 1.0 Strict，但允许添加模型（例如提供对东亚语系的 ruby 支持）。

    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.1//EN&quot; &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;',`status`='1',`url`='html-DocType',`updatetime`='1510018559' WHERE `id` = 12 [ RunTime:0.0014s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000079s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000166s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005549s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005708s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000201s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000272s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000498s ]
INFO: [ app_end ] --END-- [ RunTime:0.000573s ]

[ 2017-11-07T09:36:00+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000041s ]
INFO: [ app_init ] --END-- [ RunTime:0.000680s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000466s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000563s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0029s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0020s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0003s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000207s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011356s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011438s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000162s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000231s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000569s ]
INFO: [ app_end ] --END-- [ RunTime:0.000656s ]

[ 2017-11-07T09:36:03+08:00 ] ::1 /admin.php/posts/edit/id/14.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000556s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000797s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001220s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0031s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 14 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0032s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000138s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000223s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010962s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011072s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000388s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000652s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000985s ]
INFO: [ app_end ] --END-- [ RunTime:0.001180s ]

[ 2017-11-07T09:36:06+08:00 ] ::1 /admin.php/posts/edit/id/14.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.000640s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000428s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000512s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0016s ]
SQL: UPDATE `blog_posts` SET `title`='RSA加密算法简单介绍',`cate`='29',`tags`='|8|17|25|',`createtime`='1338343902',`content`='
这种算法1978年就出现了，它是第一个既能用于数据加密也能用于数字签名的算法。它易于理解和操作，也很流行。

算法的名字以发明者的名字命名：Ron Rivest, AdiShamir 和Leonard Adleman。

RSA算法是一种非对称密码算法，所谓非对称，就是指该算法需要一对密钥，使用其中一个加密，则需要用另一个才能解密。
   　　
    RSA的算法涉及三个参数，n、e、d。

其中，n是两个大质数p、q的积。n的二进制表示时所占用的位数，就是所谓的密钥长度。
   　　
e和d是一对相关的值，e可以任意取，但要求满足e&lt;(p-1)*(q-1)并具 e与(p-1)*(q-1)互质（就是最大公约数为1）；
   
再选择d，要求:
    (d*e)mod((p-1)*(q-1))=1。
    (n及e),(n及d)就是密钥对。

RSA加解密的算法完全相同,设M为明文，c为密文，则：
      
    加密：C=M^e mod n; 
    解密：m=c^d mod n;

注：上面两式中的e和d可以互换。  

n d两个数构成公钥，可以告诉别人；
       
n e两个数构成私钥，e自己保留，不让任何人知道。
       
给别人发送的信息使用私钥e加密,只要别人能用公钥d解开就证明信息是由你发送的,构成了签名机制,起验证身份的作用。
   
别人给你发送信息时使用d加密，这样只有拥有e的你能够对其解密,起到数据保密的作用。  
   
整理一下：

为实现RSA的加解密

最终目标：找三个参数 n,e,d
    1、n = p*q (p,q 是两个质数)
    2、 
        1)、φ(N)=(p-1)*(q-1)
        2)、取任何一个数e,要求满足e&lt;φ(N)并且e与φ(N)互质
    3、(d*e) modφ(N)=1


加密的明文长度不能超过RSA密钥的长度-11，比如1024位的，明文长度不能超过117。   

密文的长度总是密钥的长度的一半，比如1024位的，密文长度是64，如果是1032位，密文长度是65位。',`status`='1',`url`='RSA-jia-mi-suan-fa-jian-dan-jie-shao',`updatetime`='1510018566' WHERE `id` = 14 [ RunTime:0.0013s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000073s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000162s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005231s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005326s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000255s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000359s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000516s ]
INFO: [ app_end ] --END-- [ RunTime:0.000595s ]

[ 2017-11-07T09:36:07+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000358s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000407s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000485s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0027s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0022s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0016s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000154s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000284s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012810s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012896s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000192s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000265s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000676s ]
INFO: [ app_end ] --END-- [ RunTime:0.000790s ]

[ 2017-11-07T09:36:12+08:00 ] ::1 /admin.php/posts/edit/id/14.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000027s ]
INFO: [ app_init ] --END-- [ RunTime:0.000452s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000512s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000614s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0037s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 14 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000136s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000219s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009947s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010028s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000165s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000232s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000771s ]
INFO: [ app_end ] --END-- [ RunTime:0.000908s ]

[ 2017-11-07T09:36:16+08:00 ] ::1 /admin.php/posts/edit/id/14.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000035s ]
INFO: [ app_init ] --END-- [ RunTime:0.000581s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000445s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000528s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0026s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: UPDATE `blog_posts` SET `title`='RSA加密算法简单介绍',`cate`='29',`tags`='|8|17|25|',`createtime`='1338343902',`content`='
这种算法1978年就出现了，它是第一个既能用于数据加密也能用于数字签名的算法。它易于理解和操作，也很流行。

算法的名字以发明者的名字命名：Ron Rivest, AdiShamir 和Leonard Adleman。

RSA算法是一种非对称密码算法，所谓非对称，就是指该算法需要一对密钥，使用其中一个加密，则需要用另一个才能解密。
   　　
    RSA的算法涉及三个参数，n、e、d。

其中，n是两个大质数p、q的积。n的二进制表示时所占用的位数，就是所谓的密钥长度。
   　　
e和d是一对相关的值，e可以任意取，但要求满足e&lt;(p-1)*(q-1)并具 e与(p-1)*(q-1)互质（就是最大公约数为1）；
   
再选择d，要求:
    (d*e)mod((p-1)*(q-1))=1。
    (n及e),(n及d)就是密钥对。

RSA加解密的算法完全相同,设M为明文，c为密文，则：
      
    加密：C=M^e mod n; 
    解密：m=c^d mod n;

注：上面两式中的e和d可以互换。  

n d两个数构成公钥，可以告诉别人；
       
n e两个数构成私钥，e自己保留，不让任何人知道。
       
给别人发送的信息使用私钥e加密,只要别人能用公钥d解开就证明信息是由你发送的,构成了签名机制,起验证身份的作用。
   
别人给你发送信息时使用d加密，这样只有拥有e的你能够对其解密,起到数据保密的作用。  
   
整理一下：

为实现RSA的加解密

最终目标：找三个参数 n,e,d
    1、n = p*q (p,q 是两个质数)
    2、 
        1)、φ(N)=(p-1)*(q-1)
        2)、取任何一个数e,要求满足e&lt;φ(N)并且e与φ(N)互质
    3、(d*e) modφ(N)=1


加密的明文长度不能超过RSA密钥的长度-11，比如1024位的，明文长度不能超过117。   

密文的长度总是密钥的长度的一半，比如1024位的，密文长度是64，如果是1032位，密文长度是65位。',`status`='1',`url`='RSA-jia-mi-suan-fa-jian-dan-jie-shao',`updatetime`='1510018576' WHERE `id` = 14 [ RunTime:0.0011s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000074s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000160s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005342s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005436s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000177s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000246s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000492s ]
INFO: [ app_end ] --END-- [ RunTime:0.000566s ]

[ 2017-11-07T09:36:17+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000389s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000606s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000726s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0054s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0008s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0018s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0018s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000298s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000424s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012079s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012174s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000168s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000238s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000610s ]
INFO: [ app_end ] --END-- [ RunTime:0.000729s ]

[ 2017-11-07T09:36:19+08:00 ] ::1 /admin.php/posts/edit/id/10.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000442s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000647s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000776s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0032s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0021s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0022s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 10 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0018s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000137s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000219s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010850s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010953s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000172s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000242s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001226s ]
INFO: [ app_end ] --END-- [ RunTime:0.001418s ]

[ 2017-11-07T09:36:23+08:00 ] ::1 /admin.php/posts/edit/id/10.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000386s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000536s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000642s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: UPDATE `blog_posts` SET `title`='linux命令行技巧',`cate`='10',`tags`='|17|18|',`createtime`='1332468072',`content`='
##编辑命令
    * Ctrl + a ：移到命令行首
    * Ctrl + e ：移到命令行尾
    * Ctrl + f ：按字符前移（右向）
    * Ctrl + b ：按字符后移（左向）
    * Alt + f ：按单词前移（右向）
    * Alt + b ：按单词后移（左向）
    * Ctrl + xx：在命令行首和光标之间移动
    * Ctrl + u ：从光标处删除至命令行首
    * Ctrl + k ：从光标处删除至命令行尾
    * Ctrl + w ：从光标处删除至字首
    * Alt + d ：从光标处删除至字尾
    * Ctrl + d ：删除光标处的字符
    * Ctrl + h ：删除光标前的字符
    * Ctrl + y ：粘贴至光标后
    * Alt + c ：从光标处更改为首字母大写的单词
    * Alt + u ：从光标处更改为全部大写的单词
    * Alt + l ：从光标处更改为全部小写的单词
    * Ctrl + t ：交换光标处和之前的字符
    * Alt + t ：交换光标处和之前的单词
    * Alt + Backspace：与 Ctrl + w 相同类似

##重新执行命令
    * Ctrl + r：逆向搜索命令历史
    * Ctrl + g：从历史搜索模式退出
    * Ctrl + p：历史中的上一条命令
    * Ctrl + n：历史中的下一条命令
    * Alt + .：使用上一条命令的最后一个参数

##控制命令
    * Ctrl + l：清屏
    * Ctrl + o：执行当前命令，并选择上一条命令
    * Ctrl + s：阻止屏幕输出
    * Ctrl + q：允许屏幕输出
    * Ctrl + c：终止命令
    * Ctrl + z：挂起命令

##Bang (!) 命令
    * !!：执行上一条命令
    * !blah：执行最近的以 blah 开头的命令，如 !ls
    * !blah:p：仅打印输出，而不执行
    * !$：上一条命令的最后一个参数，与 Alt + . 相同
    * !$:p：打印输出 !$ 的内容
    * !*：上一条命令的所有参数
    * !*:p：打印输出 !* 的内容
    * ^blah：删除上一条命令中的 blah
    * ^blah^foo：将上一条命令中的 blah 替换为 foo
    * ^blah^foo^：将上一条命令中所有的 blah 都替换为 foo

##注意：

    1. 以上介绍的大多数 Bash 快捷键仅当在 emacs 编辑模式时有效，若你将 Bash 配置为 vi 编辑模式，那将遵循 vi 的按键绑定。Bash 默认为 emacs 编辑模式。如果你的 Bash 不在 emacs 编辑模式，可通过 set -o emacs 设置。
    2. ^S、^Q、^C、^Z 是由终端设备处理的，可用 stty 命令设置。',`status`='1',`url`='linux-ming-ling-hang-ji-qiao',`updatetime`='1510018583' WHERE `id` = 10 [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000073s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000157s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005469s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005549s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000172s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000241s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000481s ]
INFO: [ app_end ] --END-- [ RunTime:0.000554s ]

[ 2017-11-07T09:36:24+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000354s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000410s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000487s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000134s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000214s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010272s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010354s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000177s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000247s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000548s ]
INFO: [ app_end ] --END-- [ RunTime:0.000669s ]

[ 2017-11-07T09:36:30+08:00 ] ::1 /admin.php/posts/lists/p/2.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000388s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000423s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000500s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0016s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 10,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000211s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009901s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009985s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000170s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000242s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001174s ]
INFO: [ app_end ] --END-- [ RunTime:0.001299s ]

[ 2017-11-07T09:36:32+08:00 ] ::1 /admin.php/posts/edit/id/13.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000031s ]
INFO: [ app_init ] --END-- [ RunTime:0.001260s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000772s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000886s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0071s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 13 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0048s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000159s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000296s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.015236s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015348s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000227s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000332s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000607s ]
INFO: [ app_end ] --END-- [ RunTime:0.000717s ]

[ 2017-11-07T09:36:36+08:00 ] ::1 /admin.php/posts/edit/id/13.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000352s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000402s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000481s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: UPDATE `blog_posts` SET `title`='Yum配置笔记',`cate`='10',`tags`='|17|18|',`createtime`='1330653879',`content`='
###YUM 优点
自动解决包的依赖性的问题能更新的添加/删除/更新/RPM包

便于管理大量系统的更新问题

可以同时配置多个资源库（Repository）

简洁的配置文件(/etc/yum.conf)

保持与RPM数据库的一致性

有一个比较详细的log.可以查看何时升级了什么软件包
 
###CentOS的镜像站点

了解 镜像站点的文件结构 对理解 yum 配置文件 .repo 文件有帮助

    http://mirror-status.centos.org
    http://isoredirect.centos.org/centos/5/isos/i386/
    addons/      本目录包含Centos的addons 仓库
    centosplus/  本目录包含Centos的centosplus 仓库
    extras/      本目录包含Centos的extras 仓库
    fasttrack/   本目录包含Centos的extras 仓库
    isos-dvd/    本目录包含发行版的DVD iso 下载
    isos/        本目录包含发行版 CD iso 下载
    os/          本目录包含发行版(distributions)的仓库
    updates/     本目录包含Centos的updates仓库

###CentOS 的仓库

仓库(repository) 是一个预备好的目录or 网站，包含了软件包和索引。

yum 可以在仓库中自动定位并获取正确的RPM软件。

镜像服务器为每个版本的Centos分别提供了一些仓库。

Centos中的软件管理工具 yum已经预先配置为使用下列四个仓库：

base: 构成Centos发行版(distributions)的软件包，和光盘上的内容相同

updates: base 仓库中软件包的更新版本

addons: 已编译的但不在发行版(distributions)中的软件包

extras: 一大批附加的软件包

centospuls:　用于增强一些现有软件包的功能(默认未启用)

###CentOS 仓库的目录结构
    updates/
     |--SRPMS                        #源代码目录
     |  |--*.src.rpm                #源代码包目录    
     |    |--repodata/                #源代码的索引文件
     |--i386                        #Intel 32位平台的目录
     |    |--RPMS                        #Intel 32位平台的RPMS目录
     |    |    |--*.i386.rpm            #在intel 32位平台上编译的包文件
     |    |    |--*.centos.noarch.rpm    #与平台无关的已编译的包文件
     |    |--repodata/                #intel 32位平台的索引文件
     |--x68_64                        #64位平台的目录
        |--RPMS                        #64位平台的RPMS目录
        |    |--x68_64.rpm            #在64位平台上编译的包文件
        |    |--*.centos.noarch.rpm    #与平台无关的已编译的包文件
        |--repodata/                #64位平台的索引文件
###配置YUM客户的更新源

yum使用reposdir /etc/yum.repos.d 目录下的一系列.repo 文件列出可获取软件包仓库的镜像站点地址.

默认情况下有两个：

Centos-Base.repo: 用于设置远程仓库

Centos-Media.repo: 用于设置本地仓库

yum 目录结构
    /etc
      |--yum/
      |   |--/pluginconf.d    
      |   |--/yum-updatesd.conf/
      |            |--downloadonly.conf
      |            |--fastestmirror.conf
      |            |--priorities.conf
      |--yum.conf
      |--yum.repos.d/
            |--CentOS-Base.repo
            |--CentOS-Media.repo

在.repo 文件中，配置语法是分段的，每一段配置一个软件仓库，语法如下：

设置网络更新源

    [base]  \\\\用于指定仓库
    name=CentOS-$releasever - Base \\\\用于指定易读的仓库名称
    mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os \\\\用于指定本仓库的URL
    #baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/
    #        =ftp://  \\\\用于指定远程ftp协议的愿
    #        =file://  \\\\ 用于本地镜像或NFS挂载文件系统
    #nabled=0/1  \\\\用于指定是否使用本地仓库，默认为1，即可用。
    gpgcheck=1  \\\\用于指定是否检查软件包的GPG签名
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5  \\\\用于指定GPG签名文件的URL

注：若指定mirrorlist,系统将从Centos 的镜像站点中选择离你最近的仓库。

[$releasever]当前系统的版本号

[$basearch] 当前系统的构架

baseurl 可以指定多个URL ,系统会依次检查你列出的仓库。以便某个服务器宕机时使用另一台服务器

###设置本地更新源

为了使用 [c5-media]仓库，需将Centos-Base

    [c5-media]
    name=CentOS-$releasever - Media
    baseurl=file:///media/CentOS/
            file:///media/cdrom/
            file:///media/cdrecorder/
    gpgcheck=1
    enabled=0
    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5


###设置非官方更新源
    以安置rpmforge 软件包为例在
    http://rpm.pbone.net/
    http://dag.wieers.com/rpm/
    http://rpmforge.net
    http://rpm.livna.org
    http://freshrpms.net
    http://atrpms.net
    中找到适用于 Centos 5 的软件包
    wget http://................rpmforge-release..... .rpm
    rpm -ivh rpmforge-release........... .rpm
    rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-rpmforge-*

安装 rpmforge-release 软件包之后可以看到/etc/yum.repos.d/rpmfoge.repo文件

or建立一个DAG 的仓库

vi /etc/yum.repos.d/dag.repo

    [dag]
    name=Dag RPM Repository for Red Hat Enterprise Linux
    baseurl=http://apt.sw.be/redhat/el$releasever/en/$basearch/dag
    gpgcheck=1
    enabled=1
    gpgkey=http://dag.wieers.com/packages/RPM-GPG-KYE.dag.txt

###yum 命令工具

    yum check-update            检查可更新的软件包
    yum update                    下载更新系统已安装的所有软件把
    yum upgrade                    大规模的升级，不同于上面的是,连旧的淘汰的包也升级
    yum install &lt;packages&gt;        安装指定的软件包
    yum update &lt;packages&gt;        更新指定的软件包
    yum remove &lt;packages&gt;        卸载指定的软件包
    yum groupinstall &lt;packages&gt;    安装指定的软件组中的软件包
    yum groupupdate &lt;packages&gt;    更新 ... ...
    yum groupremove &lt;packages&gt;    卸载 ... ...
    yum grouplist                查看系统中已经安装的和可以用的软件组
    yum list                    列出资源库中所有可以安装or 更新以及已经安装的的rpm包
    yum list &lt;regex&gt;             列出资源库中与正则表达式匹配的可以安装或更新以及已经安装的rpm包
    yum list available             列出资源库中所有可以安装的rpm包
    yum list available &lt;regex&gt;     列出资源库中与正则表达式匹配的所有可以安装的rpm包
    yum list updates             列出资源库中所有可以更新的rpm包
    yum list updates &lt;regex&gt;     列出资源库中与正则表达式匹配的所有可以更新的rpm包
    yum list installed             列出资源库中所有已经安装的rpm包
    yum list installed &lt;regex&gt;     列出资源库中与正则表达式匹配的所有已经安装的rpm包
    yum list extras             列出已经安装的但是不包含在资源库中的rpm包
    yum list extras &lt;regex&gt;     列出与正则表达式匹配的已经安装的但是不包含在资源库中的rpm包
    yum list recent             列出最近被添加到资源库中的软件包
    yum search &lt;regex&gt;             检测所有可用的软件的名称、描述、概述和已列出的维护者，查找与正则表达式匹配的值
    yum provides &lt;regex&gt;         检测软件包中包含的文件以及软件提供的功能，查找与正则表达式匹配的值
    yum clean headers             清除缓存中的rpm头文件
    yum clean packages             清除缓存中rpm包文件
    yum clean all                 清除缓存中的rpm头文件和包文件
    yum deplist &lt;packages&gt;         显示软件包的依赖信息

第一次使用yum或者yum资源库有更新是.yum会自动下载所有需要的headers 放置于/var/cache/yum

还可以用yum info 命令列出包信息,yum info 可用的参数与 yum list的相同

yum 命令还可以使用 -y 参数 回答命令运行时所提出的问题。

yum update 升级时 排除升级内核

yum update 排除升级内核，方法有两个:

1.修改yum的配置文件 vi /etc/yum.conf，在[main]的最后添加exclude=kernel*

2.直接在yum的命令行执行如下的命令：

    yum –exclude=kernel* update


###附：

当仓库配置文件 *.repo 使用了多个URL yum-fastestmirror  可以自动选择最快的镜像站点

    yum -y install yum-fastestmirror
    yum-fastestmirror 的配置文件在 /etc/yum/pluginconf.d/fastestmirror.conf 默认不需要修改。

    yum -updatesd
    rpm -ql yum-updatesd
    yum -cron
    yum -y install yum-cron
    rpm -ql yum-cron
    /etc
        |--/cron.daily/yum.cron        每日更新脚本
        |--/cron.weekly/yum.cron    每周更新脚本
        |--/rc.d/int.d/yum            启动脚本
        |--/yum/yum-daily.yum
    /usr/share/doc/yum-cron-0.1
                            |--/COPYING
                            |--/README
    

使用yum下载而不安装rpm包

先安装yum-downloadonly
    # yum install yum-downloadonly

安装后使用方法如下:

    # yum update httpd -y --downloadonly   ###下载到默认目录  /var/cache/yum
    OR
    # yum update httpd -y --downloadonly --downloaddir=/opt     ##下载到指定目录
    # yum install perl-MailTools --downloadonly --downloaddir=/opt -y     ##如果软件已经下载过了，必须使用这个来下载',`status`='1',`url`='Yum-pei-zhi-bi-ji',`updatetime`='1510018596' WHERE `id` = 13 [ RunTime:0.0017s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000099s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000235s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008572s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008676s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000198s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000268s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000520s ]
INFO: [ app_end ] --END-- [ RunTime:0.000594s ]

[ 2017-11-07T09:36:37+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000030s ]
INFO: [ app_init ] --END-- [ RunTime:0.000514s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000443s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000522s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0011s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0005s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0009s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000136s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000245s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013787s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013890s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000209s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000279s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000623s ]
INFO: [ app_end ] --END-- [ RunTime:0.000739s ]

[ 2017-11-07T09:36:40+08:00 ] ::1 /admin.php/posts/edit/id/9.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000022s ]
INFO: [ app_init ] --END-- [ RunTime:0.000465s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000454s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000550s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 9 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000232s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000463s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010757s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010856s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000183s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000255s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000663s ]
INFO: [ app_end ] --END-- [ RunTime:0.000776s ]

[ 2017-11-07T09:36:43+08:00 ] ::1 /admin.php/posts/edit/id/9.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000361s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000444s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000575s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0014s ]
SQL: UPDATE `blog_posts` SET `title`='理解Mysql字符集设置',`cate`='31',`tags`='|15|',`createtime`='1326765638',`content`='
###基本概念
&gt;字符(Character)是指人类语言中最小的表义符号。例如’A’、’B’等；

&gt;给定一系列字符，对每个字符赋予一个数值，用数值来代表对应的字符，这一数值就是字符的编码(Encoding)例如，我们给字符’A’赋予数值0，给字符’B’赋予数值1，则0就是字符’A’的编码；

&gt;给定一系列字符并赋予对应的编码后，所有这些字符和编码对组成的集合就是字符集(Character Set)。例如，给定字符列表为{’A’,’B’}时，{’A’=&gt;0, ‘B’=&gt;1}就是一个字符集；

&gt;字符序(Collation)是指在同一字符集内字符之间的比较规则；

&gt;确定字符序后，才能在一个字符集上定义什么是等价的字符，以及字符之间的大小关系；

&gt;每个字符序唯一对应一种字符集，但一个字符集可以对应多种字符序，其中有一个是默认字符序(Default Collation)；

&gt;MySQL中的字符序名称遵从命名惯例：以字符序对应的字符集名称开头；以_ci(表示大小写不敏感)、_cs(表示大小写敏感)或_bin(表示按编码值比较)结尾。例如：在字符序“utf8_general_ci”下，字符“a”和“A”是等价的；
 
###MySQL字符集设置

• 系统变量：

    character_set_server：默认的内部操作字符集
    character_set_client：客户端来源数据使用的字符集
    character_set_connection：连接层字符集
    character_set_results：查询结果字符集
    character_set_database：当前选中数据库的默认字符集
    character_set_system：系统元数据(字段名等)字符集
还有以collation_开头的同上面对应的变量，用来描述字符序。

• 用introducer指定文本字符串的字符集：

    格式为：[_charset] ’string’ [COLLATE collation]
    例如：
    SELECT _latin1 ’string’;
    SELECT _utf8 ‘你好’ COLLATE utf8_general_ci;
    由introducer修饰的文本字符串在请求过程中不经过多余的转码，直接转换为内部字符集处理。

###MySQL中的字符集转换过程

    1. MySQL Server收到请求时将请求数据从character_set_client转换为character_set_connection；
    2. 进行内部操作前将请求数据从character_set_connection转换为内部操作字符集，其确定方法如下：

        • 使用每个数据字段的CHARACTER SET设定值；

        • 若上述值不存在，则使用对应数据表的DEFAULT CHARACTER SET设定值(MySQL扩展，非SQL标准)；

        • 若上述值不存在，则使用对应数据库的DEFAULT CHARACTER SET设定值；

        • 若上述值不存在，则使用character_set_server设定值。

    3. 将操作结果从内部操作字符集转换为character_set_results。

    ![understand-mysql-charset](/images/understand-mysql-charset-01.jpg)

###常见问题解析

     * 向默认字符集为utf8的数据表插入utf8编码的数据前没有设置连接字符集，查询时设置连接字符集为utf8

     * 插入时根据MySQL服务器的默认设置，character_set_client、character_set_connection和character_set_results均为latin1；

     * 插入操作的数据将经过latin1=&gt;latin1=&gt;utf8的字符集转换过程，这一过程中每个插入的汉字都会从原始的3个字节变成6个字节保存；

     * 查询时的结果将经过utf8=&gt;utf8的字符集转换过程，将保存的6个字节原封不动返回，产生乱码……

    ![understand-mysql-charset](/images/understand-mysql-charset-02.jpg)

     * 向默认字符集为latin1的数据表插入utf8编码的数据前设置了连接字符集为utf8

     * 插入时根据连接字符集设置，character_set_client、character_set_connection和character_set_results均为utf8；

     * 插入数据将经过utf8=&gt;utf8=&gt;latin1的字符集转换，若原始数据中含有\\u0000~\\u00ff范围以外的Unicode字 符，会因为无法在latin1字符集中表示而被转换为“?”(0×3F)符号，以后查询时不管连接字符集设置如何都无法恢复其内容了。

    ![understand-mysql-charset](/images/understand-mysql-charset-02.jpg)


###检测字符集问题的一些手段

    * SHOW CHARACTER SET;
    * SHOW COLLATION;
    * SHOW VARIABLES LIKE ‘character%’;
    * SHOW VARIABLES LIKE ‘collation%’;
    * SQL函数HEX、LENGTH、CHAR_LENGTH
    * SQL函数CHARSET、COLLATION

###使用MySQL字符集时的建议

    * 建立数据库/表和进行数据库操作时尽量显式指出使用的字符集，而不是依赖于MySQL的默认设置，否则MySQL升级时可能带来很大困扰；
    * 数据库和连接字符集都使用latin1时虽然大部分情况下都可以解决乱码问题，但缺点是无法以字符为单位来进行SQL操作，一般情况下将数据库和连接字符集都置为utf8是较好的选择；
    * 使用mysql C API时，初始化数据库句柄后马上用mysql_options设定MYSQL_SET_CHARSET_NAME属性为utf8，这样就不用显式地用 SET NAMES语句指定连接字符集，且用mysql_ping重连断开的长连接时也会把连接字符集重置为utf8；
    * 对于mysql PHP API，一般页面级的PHP程序总运行时间较短，在连接到数据库以后显式用SET NAMES语句设置一次连接字符集即可；但当使用长连接时，请注意保持连接通畅并在断开重连后用SET NAMES语句显式重置连接字符集。

###其他注意事项

     * my.cnf中的default_character_set设置只影响mysql命令连接服务器时的连接字符集，不会对使用libmysqlclient库的应用程序产生任何作用！
     * 对字段进行的SQL函数操作通常都是以内部操作字符集进行的，不受连接字符集设置的影响。
     * SQL语句中的裸字符串会受到连接字符集或introducer设置的影响，对于比较之类的操作可能产生完全不同的结果，需要小心！',`status`='1',`url`='li-jie-Mysql-zi-fu-ji-she-zhi',`updatetime`='1510018603' WHERE `id` = 9 [ RunTime:0.0014s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000074s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000155s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005175s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005267s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000236s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000328s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000506s ]
INFO: [ app_end ] --END-- [ RunTime:0.000580s ]

[ 2017-11-07T09:36:44+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000359s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000524s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000626s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0030s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0003s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0017s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0008s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0035s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000153s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000281s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.017490s ]
INFO: [ view_parse ] --END-- [ RunTime:0.017627s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000297s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000402s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000744s ]
INFO: [ app_end ] --END-- [ RunTime:0.000902s ]

[ 2017-11-07T09:36:46+08:00 ] ::1 /admin.php/posts/edit/id/4.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000359s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000446s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000528s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0020s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_posts` WHERE `id` = 4 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000147s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000235s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010968s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000169s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000270s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000703s ]
INFO: [ app_end ] --END-- [ RunTime:0.000807s ]

[ 2017-11-07T09:36:49+08:00 ] ::1 /admin.php/posts/edit/id/4.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000023s ]
INFO: [ app_init ] --END-- [ RunTime:0.000578s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000490s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000591s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0028s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/edit' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: UPDATE `blog_posts` SET `title`='正则基础入门',`cate`='29',`tags`='|8|17|',`createtime`='1326333574',`content`='
####1，元字符
    .  匹配除换行符以外的任意字符
    \\w 匹配字母或数字或下划线或汉字
    \\s 匹配任意空白符
    \\d 匹配数字
    \\b 匹配单词的开始或结束
    ^  匹配字符串的开始
    $  匹配字符串的结束

####2，重复

    *       重复零次或更多次
    +       重复一次或更多次
    ?       重复零次或一次
    \\{n\\}   重复 n 次
    \\{n,\\}  重复 n 次或更多次
    \\{n,m\\} 重复 n 次到 m 次

####3，常用的反义

    \\W       匹配任意不是字母，数字，下划线，汉字的字符 
    \\S       匹配任意不是空白符的字符
    \\D       匹配任意非数字的字符
    \\B       匹配不是单词开头或结束的位置
    [^x]     匹配除了x以外的任意字符
    [^aeiou] 匹配除了aeiou这几个字母以外的任意字符

#####练习1 验证$eamil的合法性


    $email = array(\'444371889@qq.com\',\'1212121212.com\',\'hahahaha\',\'Asw@zj.gov.cn\',\'Asw@zj.info\');

    $pattern = \'/^[a-z0-9_]+@(?:[a-z0-9_-]+\\.)+(?:com|cn)/i\'; // （exp）匹配并捕获 （?:exp）匹配

    foreach ($email as $key =&gt; $value) {
        if(preg_match($pattern, $value)){
            echo $value , \' pass\' , PHP_EOL;
        }else{
            echo $value , \' fail\' , PHP_EOL;
        }
        //preg_match($pattern, $value , $RESULT[$key]);
    }
    var_dump($RESULT);

输出：

    444371889@qq.com pass
    1212121212.com fail
    hahahaha fail
    Asw@zj.gov.cn pass
    Asw@zj.info fail

#####练习2 匹配出正确的时间

    $str = &quot;
    13:00
    212:36w ww22:48kl
    4:32  这样的时间应该是正确的
    22:00
    23:59
    22:61
    1112:13 非法
    43:33 非法
    12:60
    12:33
    000:34
    00:00
    23:59
    24:59 显然没有这样的时间
    24:00
    30
    &quot;;

    $pattern = \'/[0-2]{1}[0-3]{1}:[0-5]{1}[0-9]{1}/\';

    preg_match_all($pattern, $str , $res);

    var_dump($res);

输出：

    array(1) {
    [0]=&gt;
        array(10) {
        [0]=&gt;
        string(5) &quot;13:00&quot;
        [1]=&gt;
        string(5) &quot;12:36&quot;
        [2]=&gt;
        string(5) &quot;22:48&quot;
        [3]=&gt;
        string(5) &quot;22:00&quot;
        [4]=&gt;
        string(5) &quot;23:59&quot;
        [5]=&gt;
        string(5) &quot;12:13&quot;
        [6]=&gt;
        string(5) &quot;12:33&quot;
        [7]=&gt;
        string(5) &quot;00:34&quot;
        [8]=&gt;
        string(5) &quot;00:00&quot;
        [9]=&gt;
        string(5) &quot;23:59&quot;
        }
    }

可是我们并没有 &quot;4:32  这样的时间应该是正确的&quot; 这个正确的时间

是时候用到分支了

    $pattern = \'/[0-2]{1}[0-9]{1}:[0-5]{1}[0-9]{1}|[0-9]{1}:[0-5]{1}[0-9]{1}/\';

注意 匹配分枝条件时，将会从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件了。
举例：

    \\d{5}-\\d{4}|\\d{5} //匹配类似 23843-3234 或 21234 美国邮编格式 
    //美国邮编的规则是5位数字，或者用连字号间隔的9位数字

如果你把它改成\\d{5}|\\d{5}-\\d{4}的话，那么就只会匹配5位的邮编(以及9位邮编的前5位)。

####取反义 

    &lt;a[^&gt;]+&gt;

匹配用尖括号括起来的以a开头的字符串。
匹配以 除 a 标签以外的标签

    #匹配以 除 a 标签以外的元素
    $str = \'&lt;a&gt;baidu&lt;/a&gt; 
        &lt;a href=&quot;http://baidu.com&quot;&gt;&lt;/a&gt; 
        &lt;a href=&quot;baidu.com&quot;&gt;&lt;/a&gt; 
        &lt;span&gt;baidu&lt;/span&gt; 
        &lt;div&gt;hahahaha&lt;/div&gt; 
        &lt;font color=&quot;red&quot;&gt;121&lt;/font&gt;\';

    $pattern = \'/&lt;[^a\\/].*/i\';
    preg_match_all($pattern, $str, $matches);

    var_dump($matches);

输出：

    array(1) {
    [0]=&gt;
        array(3) {
            [0]=&gt;
            string(19) &quot;&lt;span&gt;baidu&lt;/span&gt; &quot;
            [1]=&gt;
            string(20) &quot;&lt;div&gt;hahahaha&lt;/div&gt; &quot;
            [2]=&gt;
            string(28) &quot;&lt;font color=&quot;red&quot;&gt;121&lt;/font&gt;&quot;
        }
    }


####后向引用
后向引用用于重复搜索前面某个分组匹配的文本。例如，\\1代表分组1匹配的文本，举例：

从字符串中找出重复出现的单词

    $str = \'hello kit kit , let`s go to play basketball , go go go\';

    $pattern = \'/\\b(\\w+)\\b\\s+\\1\\b/i\';

    preg_match_all($pattern, $str, $matches);

    var_dump($matches);

输出：

    array(2) {
    [0]=&gt;
        array(2) {
        [0]=&gt;
        string(7) &quot;kit kit&quot;
        [1]=&gt;
        string(5) &quot;go go&quot;
    }
    [1]=&gt;
        array(2) {
        [0]=&gt;
        string(3) &quot;kit&quot;
        [1]=&gt;
        string(2) &quot;go&quot;
    }
    }


####常用分组语法

    捕获 (exp) 匹配exp,并捕获文本到自动命名的组里

    捕获 (?&lt;name&gt;exp) 匹配exp,并捕获文本到名称为name的组里，也可以写成(?\'name\'exp)

    捕获 (?:exp) 匹配exp,不捕获匹配的文本，也不给此分组分配组号',`status`='1',`url`='zheng-ze-ji-chu-ru-men',`updatetime`='1510018609' WHERE `id` = 4 [ RunTime:0.0020s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000072s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000154s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.005108s ]
INFO: [ view_parse ] --END-- [ RunTime:0.005186s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000169s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000237s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000476s ]
INFO: [ app_end ] --END-- [ RunTime:0.000550s ]

[ 2017-11-07T09:36:51+08:00 ] ::1 /admin.php/posts/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000019s ]
INFO: [ app_init ] --END-- [ RunTime:0.000379s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000458s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000555s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0013s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 0,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000120s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000206s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010475s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010560s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000179s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000249s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000567s ]
INFO: [ app_end ] --END-- [ RunTime:0.000660s ]

[ 2017-11-07T09:36:57+08:00 ] ::1 /admin.php/posts/lists/p/2.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000354s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000416s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000497s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0016s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0012s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0014s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_posts` WHERE `status` IN ('0','1') LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_posts` WHERE `status` IN ('0','1') ORDER BY createtime desc,id desc LIMIT 10,10   [ RunTime:0.0004s ]
SQL: SELECT `id`,`username` FROM `blog_users` WHERE `status` = 1  [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000127s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000214s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010679s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010783s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000165s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000238s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001343s ]
INFO: [ app_end ] --END-- [ RunTime:0.001470s ]

[ 2017-11-07T11:10:28+08:00 ] ::1 /admin.php/posts/lists/p/2.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000419s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000688s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000859s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000121s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000264s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.007805s ]
INFO: [ view_parse ] --END-- [ RunTime:0.007909s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000196s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000275s ]

[ 2017-11-07T11:10:30+08:00 ] ::1 /admin.php/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000451s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000413s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000491s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000115s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000198s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006608s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006736s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000197s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000296s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000457s ]
INFO: [ app_end ] --END-- [ RunTime:0.000532s ]

[ 2017-11-07T11:10:35+08:00 ] ::1 /admin.php/index/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000351s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000400s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000470s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0014s ]
SQL: SELECT `id`,`username`,`password`,`salt`,`role`,`lastLogin`,`loginNum`,`lastIp` FROM `blog_users` WHERE `username` = 'wangyu' AND `status` = 1 AND `role` = 1 LIMIT 1   [ RunTime:0.0004s ]
SQL: UPDATE `blog_users` SET `lastLogin`='1510024235',`lastIp`='::1',`loginNum`='45' WHERE `id` = 1 [ RunTime:0.0012s ]

[ 2017-11-07T11:10:35+08:00 ] ::1 /admin.php/home/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000018s ]
INFO: [ app_init ] --END-- [ RunTime:0.000340s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000435s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000539s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0018s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/index' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000125s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000213s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.012349s ]
INFO: [ view_parse ] --END-- [ RunTime:0.012428s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000191s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000273s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000572s ]
INFO: [ app_end ] --END-- [ RunTime:0.000689s ]

[ 2017-11-07T11:10:35+08:00 ] ::1 /admin.php/home/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000033s ]
INFO: [ app_init ] --END-- [ RunTime:0.000654s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000693s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000831s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0024s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/welcome' LIMIT 1   [ RunTime:0.0007s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0003s ]
SQL: select version() as ver [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000123s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000255s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013248s ]
INFO: [ view_parse ] --END-- [ RunTime:0.013382s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000207s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000295s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000472s ]
INFO: [ app_end ] --END-- [ RunTime:0.000548s ]

[ 2017-11-07T11:10:37+08:00 ] ::1 /admin.php/home/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000130s ]
INFO: [ app_init ] --END-- [ RunTime:0.000741s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001304s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001500s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0020s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/index' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000123s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000206s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009790s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009872s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000167s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000236s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000636s ]
INFO: [ app_end ] --END-- [ RunTime:0.000756s ]

[ 2017-11-07T11:11:06+08:00 ] ::1 /admin.php/home/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000548s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002345s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002655s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0029s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/welcome' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0001s ]
SQL: select version() as ver [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000093s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000177s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.006591s ]
INFO: [ view_parse ] --END-- [ RunTime:0.006672s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000151s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000217s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000469s ]
INFO: [ app_end ] --END-- [ RunTime:0.000551s ]

[ 2017-11-07T11:11:06+08:00 ] ::1 /admin.php/posts/add.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000379s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000421s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000504s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0014s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0006s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'posts/add' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 75 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_posts` [ RunTime:0.0015s ]
SQL: SHOW COLUMNS FROM `blog_dicts` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 4  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_dicts` WHERE `cateId` = 7  [ RunTime:0.0004s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000212s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000350s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.013877s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014006s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000229s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000340s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002153s ]
INFO: [ app_end ] --END-- [ RunTime:0.002289s ]

[ 2017-11-07T11:21:48+08:00 ] ::1 /admin.php/home/index.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000042s ]
INFO: [ app_init ] --END-- [ RunTime:0.000448s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000765s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000889s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0017s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/index' LIMIT 1   [ RunTime:0.0004s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000163s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000253s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014907s ]
INFO: [ view_parse ] --END-- [ RunTime:0.015020s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000210s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000280s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.001202s ]
INFO: [ app_end ] --END-- [ RunTime:0.001337s ]

[ 2017-11-07T11:21:48+08:00 ] ::1 /admin.php/home/welcome.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000387s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000508s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000590s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0017s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0009s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'home/welcome' LIMIT 1   [ RunTime:0.0005s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = null LIMIT 1   [ RunTime:0.0002s ]
SQL: select version() as ver [ RunTime:0.0002s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000095s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000179s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.008498s ]
INFO: [ view_parse ] --END-- [ RunTime:0.008611s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000155s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000224s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000456s ]
INFO: [ app_end ] --END-- [ RunTime:0.000528s ]

[ 2017-11-07T11:22:31+08:00 ] ::1 /admin.php/member/users.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000035s ]
INFO: [ app_init ] --END-- [ RunTime:0.000559s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000602s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000715s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0022s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0007s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'member/users' LIMIT 1   [ RunTime:0.0003s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 72 LIMIT 1   [ RunTime:0.0002s ]
ERR: 模板不存在:./blog/Admin/View/Member/users.html

[ 2017-11-07T11:22:33+08:00 ] ::1 /admin.php/member/remove.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000025s ]
INFO: [ app_init ] --END-- [ RunTime:0.000655s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000458s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000546s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0029s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0008s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'member/remove' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 72 LIMIT 1   [ RunTime:0.0002s ]
ERR: 模板不存在:./blog/Admin/View/Member/remove.html

[ 2017-11-07T11:22:35+08:00 ] ::1 /admin.php/comment/lists.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000024s ]
INFO: [ app_init ] --END-- [ RunTime:0.000543s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000446s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000522s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'comment/lists' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 69 LIMIT 1   [ RunTime:0.0002s ]
ERR: 模板不存在:./blog/Admin/View/Comment/lists.html

[ 2017-11-07T11:22:36+08:00 ] ::1 /admin.php/comment/remove.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000021s ]
INFO: [ app_init ] --END-- [ RunTime:0.000356s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000418s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000496s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'comment/remove' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 69 LIMIT 1   [ RunTime:0.0002s ]
ERR: 模板不存在:./blog/Admin/View/Comment/remove.html

[ 2017-11-07T11:22:37+08:00 ] ::1 /admin.php/admin/roles.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000463s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000427s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000508s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0013s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'admin/roles' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 60 LIMIT 1   [ RunTime:0.0001s ]
SQL: SHOW COLUMNS FROM `blog_roles` [ RunTime:0.0017s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_roles` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `id`,`name`,`description`,`status` FROM `blog_roles` ORDER BY updateAt desc , createAt desc LIMIT 0,10   [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000125s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000210s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.010050s ]
INFO: [ view_parse ] --END-- [ RunTime:0.010129s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000158s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000228s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000646s ]
INFO: [ app_end ] --END-- [ RunTime:0.000759s ]

[ 2017-11-07T11:22:38+08:00 ] ::1 /admin.php/admin/powers.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000029s ]
INFO: [ app_init ] --END-- [ RunTime:0.000504s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000693s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000811s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0015s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0009s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0005s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'admin/powers' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 60 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0012s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc , updateTime desc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 60 AND `name` LIKE '%%' ORDER BY sort asc , updateTime desc  [ RunTime:0.0005s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 69 AND `name` LIKE '%%' ORDER BY sort asc , updateTime desc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 72 AND `name` LIKE '%%' ORDER BY sort asc , updateTime desc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 75 AND `name` LIKE '%%' ORDER BY sort asc , updateTime desc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 81 AND `name` LIKE '%%' ORDER BY sort asc , updateTime desc  [ RunTime:0.0005s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000112s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000200s ]
NOTIC: [8] Undefined variable: keyword /Users/wy/Documents/www/blog.local.com/Runtime/Cache/Admin/f030d1a9be5a708bea801dbe2a750b0e.php 第 38 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.014819s ]
INFO: [ view_parse ] --END-- [ RunTime:0.014903s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000179s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000250s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000668s ]
INFO: [ app_end ] --END-- [ RunTime:0.000771s ]

[ 2017-11-07T11:22:39+08:00 ] ::1 /admin.php/admin/users.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000062s ]
INFO: [ app_init ] --END-- [ RunTime:0.000615s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000641s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000777s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0030s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0007s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0011s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0006s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'admin/users' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 60 LIMIT 1   [ RunTime:0.0004s ]
SQL: SHOW COLUMNS FROM `blog_users` [ RunTime:0.0015s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_users` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT * FROM `blog_users` ORDER BY lastLogin desc LIMIT 0,10   [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000197s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000386s ]
NOTIC: [8] Undefined variable: keyword /Users/wy/Documents/www/blog.local.com/Runtime/Cache/Admin/b53379c38143477e73987ba83ac50f49.php 第 38 行.
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.011345s ]
INFO: [ view_parse ] --END-- [ RunTime:0.011427s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000231s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000334s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000496s ]
INFO: [ app_end ] --END-- [ RunTime:0.000573s ]

[ 2017-11-07T11:22:41+08:00 ] ::1 /admin.php/admin/roles.html
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000020s ]
INFO: [ app_init ] --END-- [ RunTime:0.000383s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.000406s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000482s ]
SQL: SHOW COLUMNS FROM `blog_powers` [ RunTime:0.0025s ]
SQL: SELECT * FROM `blog_powers`  [ RunTime:0.0004s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` = 0 ORDER BY sort asc  [ RunTime:0.0003s ]
SQL: SELECT * FROM `blog_powers` WHERE `fid` <> 0 AND `HideInMenu` = 0 ORDER BY sort asc  [ RunTime:0.0004s ]
SQL: SELECT `name`,`fid` FROM `blog_powers` WHERE `url` = 'admin/roles' LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `name` FROM `blog_powers` WHERE `id` = 60 LIMIT 1   [ RunTime:0.0002s ]
SQL: SHOW COLUMNS FROM `blog_roles` [ RunTime:0.0011s ]
SQL: SELECT COUNT(*) AS tp_count FROM `blog_roles` LIMIT 1   [ RunTime:0.0002s ]
SQL: SELECT `id`,`name`,`description`,`status` FROM `blog_roles` ORDER BY updateAt desc , createAt desc LIMIT 0,10   [ RunTime:0.0003s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000123s ]
INFO: [ template_filter ] --END-- [ RunTime:0.000209s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.009694s ]
INFO: [ view_parse ] --END-- [ RunTime:0.009779s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.000171s ]
INFO: [ view_filter ] --END-- [ RunTime:0.000240s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.000625s ]
INFO: [ app_end ] --END-- [ RunTime:0.000734s ]

